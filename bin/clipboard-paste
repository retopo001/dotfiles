#!/bin/bash
# Universal paste - sends Ctrl+V (or Ctrl+Shift+V in terminals)

# Get focused window class
window_class=$(xdotool getactivewindow getwindowclassname 2>/dev/null)

case "$window_class" in
    # Terminals use Ctrl+Shift+V
    Alacritty|ghostty|*ghostty*|com.mitchellh.ghostty|kitty|WezTerm|xterm|XTerm|URxvt|Termite|gnome-terminal*|konsole|xfce4-terminal)
        xdotool key --clearmodifiers ctrl+shift+v
        ;;
    # Emacs has its own paste (yank)
    Emacs|emacs)
        xdotool key --clearmodifiers ctrl+y
        ;;
    # Everything else uses Ctrl+V
    *)
        xdotool key --clearmodifiers ctrl+v
        ;;
esac
